<html>
<head>
    <script src="js/codemirror.js" type="text/javascript"></script>
    <title></title>
	<link rel="stylesheet" type="text/css" href="css/editor.css"/>
</head>
<body>

<textarea id="code"></textarea>

<script type="text/javascript">

	var editor = CodeMirror.fromTextArea( 'code', 
	{
		parserfile: ["parselua.js"],
		stylesheet: ["css/lua.css"],
		path: "js/",
		tabMode: 'shift',
		indentUnit: 3,
		textWrapping: 'on',
		height: 'dynamic',
		lineNumbers: 'true',
		onChange: function(){ CodeToLua() }
	});

	function CodeToLua() 
	{
		var code = editor.getCode()
		code = code.replace( /\n/gi, "*/*new*line*/*" )
		
		document.title = code
	}
	
	function UpdateCode( code )
	{
		editor.setCode( code )
	}
  
</script>
</body>
</html>